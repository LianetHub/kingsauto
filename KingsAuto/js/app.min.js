(()=>{"use strict";"undefined"!=typeof Fancybox&&null!==Fancybox&&Fancybox.bind("[data-fancybox]",{dragToClose:!1,closeButton:!1}),$((function(){const e={Android:()=>/Android/i.test(navigator.userAgent),BlackBerry:()=>/BlackBerry/i.test(navigator.userAgent),iOS:()=>/iPhone|iPad|iPod/i.test(navigator.userAgent),Opera:()=>/Opera Mini/i.test(navigator.userAgent),Windows:()=>/IEMobile/i.test(navigator.userAgent),any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()}};function t(){e.any()||$(window).width()<992?$("body").removeClass("_pc").addClass("_touch"):$("body").removeClass("_touch").addClass("_pc")}t(),$(window).on("resize",(()=>{t()})),function(e){let t=new Image;t.onload=t.onerror=function(){var e;e=2==t.height,$("body").addClass(e?"webp":"no-webp")},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),$(document).on("click",(e=>{const t=$(e.target);if(t.closest(".menu__btn").length&&($("body").toggleClass("lock"),$(".header").toggleClass("open-menu")),t.hasClass("menu__arrow")){const e=t.next(".submenu");$(".menu__arrow.active").get(0)!==t.get(0)&&($(".submenu.open").removeClass("open"),$(".menu__arrow.active").removeClass("active")),e.toggleClass("open"),t.toggleClass("active")}t.is(".brands__all")&&(t.closest(".brands__list").find(".brands__item.brands__item-more").toggleClass("visible"),t.toggleClass("active"),t.hasClass("active")?t.text("Скрыть"):t.text("Все марки")),t.is(".reviews__card-btn")&&(t.prev().toggleClass("full"),t.toggleClass("active"),t.hasClass("active")?t.text("Скрыть"):t.text("Читать полностью"))})),$(".promo__slider").length&&new Swiper(".promo__slider",{slidesPerView:1,speed:800,effect:"fade",loop:!0,autoplay:{delay:8e3,stopOnLastSlide:!1},fadeEffect:{crossFade:!0},pagination:{el:".promo__pagination",clickable:!0},on:{beforeInit:e=>{let t=e.params.speed,s=e.params.autoplay.delay;$(".promo__pagination").css("--counting-speed",(t+s)/1e3+"s")}}}),$(".selections__slider").each(((e,t)=>{const s=$(t).find(".swiper"),a=$(t).find(".selections__prev"),i=$(t).find(".selections__next"),n=$(t).find(".selections__pagination");new Swiper(s[0],{speed:800,slidesPerView:"auto",spaceBetween:20,navigation:{nextEl:i[0],prevEl:a[0]},pagination:{el:n[0],clickable:!0},breakpoints:{767.98:{slidesPerView:3}}})})),$(".auto-card__slider").each(((e,t)=>{const s=$(t).find(".auto-card__slider-pagination");new Swiper(t,{speed:800,slidesPerView:1,pagination:{el:s[0],clickable:!0}})}));const s=$(".header");new IntersectionObserver((e=>{e[0].isIntersecting?s.removeClass("scroll"):s.addClass("scroll")})).observe(s[0]);class a{constructor(e){this.$wrapper=$(e),this.$tabButtons=this.$wrapper.find(".tabs__item"),this.$tabContents=this.$wrapper.find(".tab-content"),this.init()}init(){this.$tabButtons.each(((e,t)=>{$(t).on("click",(()=>this.activateTab(e)))}))}activateTab(e){this.$tabButtons.removeClass("active"),this.$tabContents.removeClass("active"),this.$tabButtons.eq(e).addClass("active"),this.$tabContents.eq(e).addClass("active")}}$(".tabs-wrapper").each(((e,t)=>new a(t))),$("form").on("submit",(function(e){let t=!0;$(this).find('[aria-required="true"]').each((function(){$(this).is(":checkbox")?$(this).is(":checked")||($(this).addClass("error"),t=!1):""===$(this).val().trim()&&($(this).addClass("error"),t=!1)})),t||e.preventDefault()})),$('[aria-required="true"]').on("change input",(function(){$(this).is(":checkbox")?$(this).is(":checked")&&$(this).removeClass("error"):""!==$(this).val().trim()&&$(this).removeClass("error")}))}))})();